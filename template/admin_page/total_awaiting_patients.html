{%extends 'admin_page/admin_base.html'%} {% extends
'admin_page/admin_base.html'%} {% block content %}
<!--  -->

{% if messages %} {% for message in messages %}
<div
  class="alert alert-{{ message.tags }} alert-dismissible fade show"
  role="alert"
>
  {{ message }}
  <button
    type="button"
    class="btn-close"
    data-bs-dismiss="alert"
    aria-label="Close"
  ></button>
</div>
{% endfor %} {% endif %}

<div class="container">
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead class="table-dark">
        <tr>
          <th style="text-align: center">S.No</th>
          <th style="text-align: center">Patient Name</th>
          <th style="text-align: center">MRN</th>
          <th style="text-align: center">Is Active</th>
          <th style="text-align: center">Deactivate</th>
          <th style="text-align: center">Delete</th>
        </tr>
      </thead>
      <tbody>
        {% for patient in total_awaiting_patients %}
        <tr>
          <td class="text-center">{{ forloop.counter }}</td>
          <td class="text-center">{{ patient.full_name }}</td>
          <td class="text-center">{{ patient.card_number }}</td>
          <td class="text-center">{{ patient.is_active }}</td>
          <td>
            <a
              href="{% url 'deactivate_patient_admin' patient.id%}"
              class="btn btn-warning btn-sm"
              onclick="return confirm('Are you sure you want to Deactivate this patient?');"
            >
              Deactivate
            </a>
          </td>

          <td>
            <a
              href="{% url 'delete_patient_admin' patient.id%}"
              class="btn btn-danger btn-sm"
              onclick="return confirm('Are you sure you want to delete this patient?');"
            >
              Delete
            </a>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="5" class="text-center text-danger">
            No patient found.
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
